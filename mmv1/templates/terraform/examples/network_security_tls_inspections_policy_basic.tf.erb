resource "google_privateca_ca_pool" "basic" {
    provider = google-beta
  name = "capool-basic"
  location = "us-central1"
  tier = "ENTERPRISE"
}

resource "google_network_security_tls_inspection_policy" "<%= ctx[:primary_resource_id] %>" {
  provider = google-beta
  name     = "<%= ctx[:vars]['resource_name'] %>"
  location = "us-central1"
  ca_pool    = google_privateca_ca_pool.basic.name
}